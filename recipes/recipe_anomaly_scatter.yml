# ESMValTool
# recipe_anomaly_scatter.yml
---
documentation:
  description: Calculate anomalies of temp and precip and create a scatter plot
  title: Temperature and preipitation scatter plots

  authors:
    - sellar_alistair # (Actually Tom Crocker)

datasets:
  - {dataset: BCC-CSM2-MR, project: CMIP6, ensemble: r1i1p1f1, grid: gn}


preprocessors:
  anomalies_proc:
    extract_season: 
      season: JJA

    extract_region:
      start_longitude: 100
      end_longitude: 120
      start_latitude: 5
      end_latitude: 25
    area_statistics:
      operator: mean
    

    anomalies:
      period: full
      reference:
        start_year: 1991
        start_month: 1
        start_day: 1
        end_year: 2010
        end_month: 12
        end_day: 31
      standardize: false


base_var: &base_var
  activity: [CMIP, ScenarioMIP]
  mip: Amon
  exp: [historical, ssp585]
  start_year: 1990
  end_year: 2100
  preprocessor: anomalies_proc


diagnostics:
  anomalies:
    variables:
      tas:
        <<: *base_var
        short_name: tas
      pr:
        <<: *base_var
        short_name: pr
    scripts:
      scatter:
        script: /home/h02/tcrocker/code/ESMValTool_Workshop_Feb23/diagnostics/anomaly_scatter.py
        period_start: 2070
        period_end: 2099
